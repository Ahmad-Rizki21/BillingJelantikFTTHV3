import{d as A,O as B,r as u,o as P,b as N,w as t,e as a,f as _,g as n,h as c,t as U,a as G,l as T}from"./index-DDZ3D2Zd.js";const D=A({__name:"Settings",setup($){const d=B(),s=u(!1),r=u(""),m=u(!1),o=u({show:!1,text:"",color:"success"});P(()=>{s.value=d.maintenanceMode.isActive,r.value=d.maintenanceMode.message});async function p(){m.value=!0;try{const l=`${s.value}|${r.value}`;await G.put("/settings/maintenance_mode",{value:l}),await d.fetchMaintenanceStatus(),v("Pengaturan berhasil disimpan!","success")}catch(l){console.error("Gagal menyimpan pengaturan:",l),v("Gagal menyimpan pengaturan.","error")}finally{m.value=!1}}function v(l,e){o.value.text=l,o.value.color=e,o.value.show=!0}return(l,e)=>{const f=a("v-icon"),g=a("v-card-title"),b=a("v-switch"),k=a("v-text-field"),x=a("v-card-text"),w=a("v-divider"),S=a("v-spacer"),V=a("v-btn"),M=a("v-card-actions"),y=a("v-card"),h=a("v-snackbar"),C=a("v-container");return T(),N(C,{class:"pa-6"},{default:t(()=>[e[7]||(e[7]=_("h1",{class:"text-h4 font-weight-bold mb-4"},"Pengaturan Sistem",-1)),n(y,{rounded:"xl",elevation:"2"},{default:t(()=>[n(g,{class:"d-flex align-center"},{default:t(()=>[n(f,{color:"warning",class:"me-3"},{default:t(()=>e[3]||(e[3]=[c("mdi-alert-decagram")])),_:1,__:[3]}),e[4]||(e[4]=c(" Mode Maintenance "))]),_:1,__:[4]}),n(x,null,{default:t(()=>[e[5]||(e[5]=_("p",{class:"text-medium-emphasis mb-4"}," Aktifkan mode ini untuk menampilkan banner pemberitahuan di seluruh sistem. Berguna saat Anda sedang melakukan update atau perbaikan. ",-1)),n(b,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=i=>s.value=i),label:"Aktifkan Mode Maintenance",color:"warning",inset:""},null,8,["modelValue"]),n(k,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=i=>r.value=i),label:"Pesan Maintenance",disabled:!s.value,variant:"outlined",placeholder:"Contoh: Sistem akan di-update pukul 23:00."},null,8,["modelValue","disabled"])]),_:1,__:[5]}),n(w),n(M,{class:"pa-4"},{default:t(()=>[n(S),n(V,{color:"primary",onClick:p,loading:m.value,size:"large",class:"text-none","prepend-icon":"mdi-content-save"},{default:t(()=>e[6]||(e[6]=[c(" Simpan Pengaturan ")])),_:1,__:[6]},8,["loading"])]),_:1})]),_:1}),n(h,{modelValue:o.value.show,"onUpdate:modelValue":e[2]||(e[2]=i=>o.value.show=i),color:o.value.color,timeout:3e3,location:"top right"},{default:t(()=>[c(U(o.value.text),1)]),_:1},8,["modelValue","color"])]),_:1,__:[7]})}}});export{D as default};
