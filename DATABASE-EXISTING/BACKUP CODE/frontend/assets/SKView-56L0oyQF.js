import{d as q,r as w,c as b,o as G,b as C,w as n,a as Q,e as d,f as t,g as a,h as r,t as l,j as g,F as J,k as R,v as W,i as D,l as _,_ as X}from"./index-DDZ3D2Zd.js";const Y={class:"page-header mb-6"},Z={class:"header-content"},ee={class:"header-icon-wrapper"},te={class:"d-flex align-center"},ae={class:"stat-icon-wrapper stat-icon-primary"},se={class:"stat-content"},ne={class:"stat-number"},oe={class:"d-flex align-center"},ie={class:"stat-icon-wrapper stat-icon-success"},le={class:"stat-content"},de={class:"stat-number"},re={class:"d-flex align-center"},ce={class:"stat-icon-wrapper stat-icon-info"},ue={class:"stat-content"},_e={class:"stat-number"},me={class:"d-flex align-center"},ve={class:"stat-icon-wrapper stat-icon-warning"},pe={class:"stat-content"},fe={class:"stat-number"},he={key:0,class:"documents-list"},ge=["onClick"],we={class:"document-header"},be={class:"document-header-main"},ye={class:"document-title"},ke={class:"document-header-meta"},xe={class:"date-text"},Ce={key:0,class:"document-content-wrapper"},De=["innerHTML"],Se={class:"document-footer mt-5"},Te={class:"footer-info"},ze={class:"footer-item"},Ve={class:"footer-text"},Ke={key:1,class:"empty-state"},Le={class:"empty-state-content"},Ie={class:"empty-icon-wrapper"},Me={class:"empty-subtitle"},Pe=q({__name:"SKView",setup(Be){const u=w([]),f=w(""),h=w(null),m=w([]),S=b(()=>[...new Set(u.value.map(e=>e.tipe))].map(e=>({title:e,value:e}))),k=b(()=>{let s=u.value;if(f.value){const e=f.value.toLowerCase();s=s.filter(i=>i.judul.toLowerCase().includes(e)||i.konten.toLowerCase().includes(e)||i.tipe.toLowerCase().includes(e))}return h.value&&(s=s.filter(e=>e.tipe===h.value)),s.sort((e,i)=>new Date(i.created_at).getTime()-new Date(e.created_at).getTime())}),T=b(()=>u.value.filter(s=>s.tipe==="Pembaruan").length),z=b(()=>u.value.filter(s=>s.tipe!=="Pembaruan").length);async function V(){try{const s=await Q.get("/sk/");u.value=s.data}catch(s){console.error("Gagal mengambil data S&K:",s)}}function K(s){const e=m.value.indexOf(s);e>-1?m.value.splice(e,1):m.value.push(s)}function L(s){return new Date(s).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}function I(s){return new Date(s).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}function M(){if(u.value.length===0)return"-";const s=u.value.reduce((i,c)=>new Date(c.created_at)>new Date(i.created_at)?c:i),e=Math.floor((new Date().getTime()-new Date(s.created_at).getTime())/(1e3*60*60*24));return e===0?"Hari ini":`${e} hari`}function P(s){switch(s){case"Pembaruan":return"success";case"Syarat & Ketentuan":return"primary";case"Kebijakan":return"info";case"Panduan":return"warning";default:return"grey"}}function B(s){switch(s){case"Pembaruan":return"mdi-update";case"Syarat & Ketentuan":return"mdi-gavel";case"Kebijakan":return"mdi-shield-check";case"Panduan":return"mdi-book-open-variant";default:return"mdi-file-document"}}function j(s){const e=Math.floor((new Date().getTime()-new Date(s.created_at).getTime())/864e5);return e<=7?"success":e<=30?"info":"grey"}function N(s){const e=Math.floor((new Date().getTime()-new Date(s.created_at).getTime())/864e5);return e<=7?"mdi-new-box":e<=30?"mdi-clock-outline":"mdi-archive-outline"}function U(s){const e=Math.floor((new Date().getTime()-new Date(s.created_at).getTime())/864e5);return e<=7?"Baru":e<=30?"Terkini":"Arsip"}return G(V),(s,e)=>{const i=d("v-icon"),c=d("v-card-text"),v=d("v-card"),p=d("v-col"),x=d("v-row"),F=d("v-text-field"),H=d("v-select"),y=d("v-chip"),A=d("v-btn"),E=d("v-divider"),O=d("v-expand-transition"),$=d("v-container");return _(),C($,{fluid:"",class:"sk-container"},{default:n(()=>[t("div",Y,[t("div",Z,[t("div",ee,[a(i,{size:"28",color:"white"},{default:n(()=>e[2]||(e[2]=[r("mdi-file-document-outline")])),_:1,__:[2]})]),e[3]||(e[3]=t("div",{class:"header-text"},[t("h1",{class:"page-title"},"Syarat & Ketentuan"),t("p",{class:"page-subtitle"},"Informasi terkini tentang syarat ketentuan dan catatan rilis sistem")],-1))]),e[4]||(e[4]=t("div",{class:"header-decoration"},null,-1))]),a(x,{class:"mb-6 stats-section"},{default:n(()=>[a(p,{cols:"12",sm:"6",lg:"3"},{default:n(()=>[a(v,{class:"stat-card stat-card-primary",elevation:"0"},{default:n(()=>[a(c,{class:"pa-5"},{default:n(()=>[t("div",te,[t("div",ae,[a(i,{color:"white",size:"20"},{default:n(()=>e[5]||(e[5]=[r("mdi-file-document")])),_:1,__:[5]})]),t("div",se,[t("div",ne,l(u.value.length),1),e[6]||(e[6]=t("div",{class:"stat-label"},"Total Dokumen",-1))])])]),_:1})]),_:1})]),_:1}),a(p,{cols:"12",sm:"6",lg:"3"},{default:n(()=>[a(v,{class:"stat-card stat-card-success",elevation:"0"},{default:n(()=>[a(c,{class:"pa-5"},{default:n(()=>[t("div",oe,[t("div",ie,[a(i,{color:"white",size:"20"},{default:n(()=>e[7]||(e[7]=[r("mdi-update")])),_:1,__:[7]})]),t("div",le,[t("div",de,l(T.value),1),e[8]||(e[8]=t("div",{class:"stat-label"},"Pembaruan",-1))])])]),_:1})]),_:1})]),_:1}),a(p,{cols:"12",sm:"6",lg:"3"},{default:n(()=>[a(v,{class:"stat-card stat-card-info",elevation:"0"},{default:n(()=>[a(c,{class:"pa-5"},{default:n(()=>[t("div",re,[t("div",ce,[a(i,{color:"white",size:"20"},{default:n(()=>e[9]||(e[9]=[r("mdi-gavel")])),_:1,__:[9]})]),t("div",ue,[t("div",_e,l(z.value),1),e[10]||(e[10]=t("div",{class:"stat-label"},"S&K",-1))])])]),_:1})]),_:1})]),_:1}),a(p,{cols:"12",sm:"6",lg:"3"},{default:n(()=>[a(v,{class:"stat-card stat-card-warning",elevation:"0"},{default:n(()=>[a(c,{class:"pa-5"},{default:n(()=>[t("div",me,[t("div",ve,[a(i,{color:"white",size:"20"},{default:n(()=>e[11]||(e[11]=[r("mdi-clock-outline")])),_:1,__:[11]})]),t("div",pe,[t("div",fe,l(M()),1),e[12]||(e[12]=t("div",{class:"stat-label"},"Update Terakhir",-1))])])]),_:1})]),_:1})]),_:1})]),_:1}),a(v,{class:"search-card mb-6",elevation:"0"},{default:n(()=>[a(c,{class:"pa-5"},{default:n(()=>[a(x,{align:"center","no-gutters":""},{default:n(()=>[a(p,{cols:"12",md:"8",class:"pe-md-3 mb-4 mb-md-0"},{default:n(()=>[a(F,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=o=>f.value=o),"prepend-inner-icon":"mdi-magnify",label:"Cari dokumen...",variant:"outlined",density:"comfortable","hide-details":"",clearable:"",class:"search-field","bg-color":"transparent"},null,8,["modelValue"])]),_:1}),a(p,{cols:"12",md:"4"},{default:n(()=>[a(H,{modelValue:h.value,"onUpdate:modelValue":e[1]||(e[1]=o=>h.value=o),items:S.value,label:"Filter berdasarkan tipe",variant:"outlined",density:"comfortable","hide-details":"",clearable:"",class:"filter-select","bg-color":"transparent"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1}),a(v,{class:"main-content-card",elevation:"0"},{default:n(()=>[a(c,{class:"pa-0"},{default:n(()=>[k.value.length>0?(_(),g("div",he,[(_(!0),g(J,null,R(k.value,o=>(_(),g("div",{key:o.id,class:W(["document-item",{"document-item-expanded":m.value.includes(o.id)}]),onClick:je=>K(o.id)},[t("div",we,[t("div",be,[a(y,{size:"small",color:P(o.tipe),variant:"flat",class:"type-chip"},{default:n(()=>[a(i,{start:"",size:"16"},{default:n(()=>[r(l(B(o.tipe)),1)]),_:2},1024),r(" "+l(o.tipe),1)]),_:2},1032,["color"]),t("h3",ye,l(o.judul),1)]),t("div",ke,[o.versi?(_(),C(y,{key:0,size:"x-small",variant:"outlined",color:"primary",class:"version-chip"},{default:n(()=>[r(" v"+l(o.versi),1)]),_:2},1024)):D("",!0),t("span",xe,l(I(o.created_at)),1),a(A,{icon:m.value.includes(o.id)?"mdi-chevron-up":"mdi-chevron-down",variant:"text",size:"small",class:"expand-btn"},null,8,["icon"])])]),a(O,null,{default:n(()=>[m.value.includes(o.id)?(_(),g("div",Ce,[a(E,{class:"mb-5"}),t("div",{class:"document-content",innerHTML:o.konten},null,8,De),t("div",Se,[t("div",Te,[t("div",ze,[a(i,{size:"16",class:"me-2",color:"medium-emphasis"},{default:n(()=>e[13]||(e[13]=[r("mdi-calendar")])),_:1,__:[13]}),t("span",Ve," Dipublikasikan pada "+l(L(o.created_at)),1)]),a(y,{size:"small",color:j(o),variant:"tonal",class:"status-chip"},{default:n(()=>[a(i,{start:"",size:"14"},{default:n(()=>[r(l(N(o)),1)]),_:2},1024),r(" "+l(U(o)),1)]),_:2},1032,["color"])])])])):D("",!0)]),_:2},1024)],10,ge))),128))])):(_(),g("div",Ke,[t("div",Le,[t("div",Ie,[a(i,{size:"64",color:"medium-emphasis"},{default:n(()=>e[14]||(e[14]=[r("mdi-file-document-remove-outline")])),_:1,__:[14]})]),e[15]||(e[15]=t("h3",{class:"empty-title"},"Tidak ada dokumen ditemukan",-1)),t("p",Me,l(f.value||h.value?"Coba ubah kriteria pencarian Anda":"Belum ada dokumen S&K yang tersedia"),1)])]))]),_:1})]),_:1})]),_:1})}}}),Ue=X(Pe,[["__scopeId","data-v-dbd73fbd"]]);export{Ue as default};
